<html>

    <head>
        <link rel="icon" type="image/png" href="/favicon.png">
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-132235786-4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-132235786-4');
</script>

    <!-- BEGIN OPJ -->
  <script async src="//www.googletagservices.com/tag/js/gpt.js"></script>
  <script src="prebid.js"></script>
  <script>
      var sizesD = [[728, 90], [1,1]];
      var sizesM = [[300, 250], [1,1]];
      var PREBID_TIMEOUT = 1000;
      var FAILSAFE_TIMEOUT = 3000;

      var adUnits = [
      {
        code: '/21904908158/opj/opj_sticky',
        mediaTypes: {
            banner: {
                sizes: [
                    [728, 90],
                    [970, 90],
                    [1, 1]
                ]
            }
        },
        labelAny: ['display'],
        bids: [{
                bidder: 'medianet',
                params: {
                    cid: '8CUO8FJ24',
                    crid: '882195742',
                }
            },
            {
                bidder: 'unruly',
                params: {
                    siteId: 238529
                }
            },
            {
                bidder: 'richaudience',
                params: {
                    pid: "PAAcPZfbJc",
                    supplyType: "site",
                }
            },
            {
                bidder: "nobid",
                params: {
                    siteId: 22607392898
                }
            }
        ],
        hardFloor: "0"
      },
      {
        code: '/21904908158/opj/opj_sticky_mob',
        mediaTypes: {
            banner: {
                sizes: [
                    [320, 50],
                    [1, 1]
                ]
            }
        },
        labelAny: ['phone'],
        bids: [{
                bidder: 'medianet',
                params: {
                    cid: '8CUO8FJ24',
                    crid: '871514936',
                }
            },
            {
                bidder: 'unruly',
                params: {
                    siteId: 238529
                }
            },
            {
                bidder: 'richaudience',
                params: {
                    pid: "FqqhLjfSYz",
                    supplyType: "site",
                }
            },
            {
                bidder: "nobid",
                params: {
                    siteId: 22607392898
                }
            }
        ],
        hardFloor: "0"
      },
      {
        code: '/21904908158/opj/opj_left1',
        mediaTypes: {
            banner: {
                sizes: sizesD
            }
        },
        labelAny: ['display'],
        bids: [{
                bidder: 'medianet',
                gdpr: !0,
                tcf2: !0,
                usp: !0,
                params: {
                    cid: '8CUO8FJ24',
                    crid: '818055465',
                },
                hardFloor: "0"
            },
            {
                bidder: 'unruly',
                params: {
                    siteId: 238529
                }
            },
            {
                bidder: 'richaudience',
                params: {
                    pid: "XwGurlYTaJ",
                    supplyType: "site",
                }
            },
            {
                bidder: "nobid",
                params: {
                    siteId: 22607392898
                }
            }
        ]
      },
      {
        code: '/21904908158/opj/opj_left2',
        mediaTypes: {
            banner: {
                sizes: sizesD
            }
        },
        labelAny: ['display'],
        bids: [{
                bidder: 'medianet',
                params: {
                    cid: '8CUO8FJ24',
                    crid: '617248763',
                }
            },
            {
                bidder: 'unruly',
                params: {
                    siteId: 238529
                }
            },
            {
                bidder: 'richaudience',
                params: {
                    pid: "tBNjCKVqns",
                    supplyType: "site",
                }
            },
            {
                bidder: 'richaudience',
                params: {
                    pid: "obA39sZMRz",
                    supplyType: "site",
                }
            },
            {
                bidder: "nobid",
                params: {
                    siteId: 22607392898
                }
            }
        ]
      },
      {
        code: '/21904908158/opj/opj_left3',
        mediaTypes: {
            banner: {
                sizes: sizesD
            }
        },
        labelAny: ['display'],
        bids: [{
                bidder: 'medianet',
                params: {
                    cid: '8CUO8FJ24',
                    crid: '475671601',
                }
            },
            {
                bidder: 'unruly',
                params: {
                    siteId: 238529
                }
            },
            {
                bidder: 'richaudience',
                params: {
                    pid: "l6fjcbAhNk",
                    supplyType: "site",
                }
            },
            {
                bidder: 'justpremium',
                params: {
                    zone: 128454,
                }
            },
            {
                bidder: "nobid",
                params: {
                    siteId: 22607392898
                }
            }
        ]
      },
      {
        code: '/21904908158/opj/opj_left4',
        mediaTypes: {
            banner: {
                sizes: sizesD
            }
        },
        labelAny: ['display'],
        bids: [{
                bidder: 'medianet',
                params: {
                    cid: '8CUO8FJ24',
                    crid: '885384254',
                }
            },
            {
                bidder: 'unruly',
                params: {
                    siteId: 238529
                }
            },
            {
                bidder: 'richaudience',
                params: {
                    pid: "7EuVFbPs3C",
                    supplyType: "site",
                }
            },
            {
                bidder: 'justpremium',
                params: {
                    zone: 128454,
                }
            },
            {
                bidder: "nobid",
                params: {
                    siteId: 22607392898
                }
            }
        ]
      },
      {
        code: '/21904908158/opj/opj_left1_mob',
        mediaTypes: {
            banner: {
                sizes: sizesM
            }
        },
        labelAny: ['phone'],
        bids: [{
                bidder: 'medianet',
                params: {
                    cid: '8CUO8FJ24',
                    crid: '554687443',
                }
            },
            {
                bidder: 'unruly',
                params: {
                    siteId: 238529
                }
            },
            {
                bidder: 'richaudience',
                params: {
                    pid: "CCO3qZvRZg",
                    supplyType: "site",
                }
            },
            {
                bidder: "nobid",
                params: {
                    siteId: 22607392898
                }
            }
        ],
        hardFloor: "0.70"
      },
      {
        code: '/21904908158/opj/opj_left2_mob',
        mediaTypes: {
            banner: {
                sizes: sizesM
            }
        },
        labelAny: ['phone'],
        bids: [{
                bidder: 'medianet',
                params: {
                    cid: '8CUO8FJ24',
                    crid: '612178340',
                }
            },
            {
                bidder: 'unruly',
                params: {
                    siteId: 238529
                }
            },
            {
                bidder: 'richaudience',
                params: {
                    pid: "FwQTLjJzWg",
                    supplyType: "site",
                }
            },
            {
                bidder: "nobid",
                params: {
                    siteId: 22607392898
                }
            }
        ]
      },
      {
        code: '/21904908158/opj/opj_left3_mob',
        mediaTypes: {
            banner: {
                sizes: sizesM
            }
        },
        labelAny: ['phone'],
        bids: [{
                bidder: 'medianet',
                params: {
                    cid: '8CUO8FJ24',
                    crid: '581246745',
                }
            },
            {
                bidder: 'unruly',
                params: {
                    siteId: 238529
                }
            },
            {
                bidder: 'richaudience',
                params: {
                    pid: "0uVLzLwHqR",
                    supplyType: "site",
                }
            },
            {
                bidder: 'justpremium',
                params: {
                    zone: 128454,
                }
            },
            {
                bidder: "nobid",
                params: {
                    siteId: 22607392898
                }
            }
        ]
      },
      {
        code: '/21904908158/opj/opj_right1',
        mediaTypes: {
            banner: {
                sizes: sizesM
            }
        },
        bids: [{
                bidder: 'medianet',
                params: {
                    cid: '8CUO8FJ24',
                    crid: '172219243',
                }
            },
            {
                bidder: 'unruly',
                params: {
                    siteId: 238529
                }
            },
            {
                bidder: 'richaudience',
                params: {
                    pid: "L9M0ESNRtn",
                    supplyType: "site",
                }
            },
            {
                bidder: 'justpremium',
                params: {
                    zone: 128454,
                }
            },
            {
                bidder: "nobid",
                params: {
                    siteId: 22607392898
                }
            }
        ]
      },
      {
        code: '/21904908158/opj/opj_right2',
        mediaTypes: {
            banner: {
                sizes: sizesM
            }
        },
        bids: [{
                bidder: 'medianet',
                params: {
                    cid: '8CUO8FJ24',
                    crid: '121725352',
                }
            },
            {
                bidder: 'unruly',
                params: {
                    siteId: 238529
                }
            },
            {
                bidder: 'richaudience',
                params: {
                    pid: "fQKFA1XyGb",
                    supplyType: "site",
                }
            },
            {
                bidder: 'justpremium',
                params: {
                    zone: 128454,
                }
            },
            {
                bidder: "nobid",
                params: {
                    siteId: 22607392898
                }
            }
        ]
      }
    ];

    // ======== DO NOT EDIT BELOW THIS LINE =========== //
    var googletag = googletag || {};
    googletag.cmd = googletag.cmd || [];
    googletag.cmd.push(function() {
        googletag.pubads().disableInitialLoad();
    });

    var pbjs = pbjs || {};
    pbjs.que = pbjs.que || [];

    pbjs.setConfig({
        sizeConfig: [{
            mediaQuery: '(min-width: 768px)',
            sizesSupported: [[970,90], [728,90], [300,250], [338,280]],
            labels: [ "display"]
          }, {
            mediaQuery: '(max-width: 767px)',
            sizesSupported: [[300,50],[320,50]],
            labels: [ "phone"]
       }]
        //userSync: {
            //iframeEnabled: true
        //}
    });


    // tracking events
    
    const SJ_EVENTS = {
        AUCTION_INIT: 'auctionInit',
        BID_REQUEST: 'bidRequested',
        BID_RESPONSE: 'bidResponse',
        BID_WON: 'bidWon',
        AUCTION_END: 'auctionEnd',
        TIMEOUT: 'adapterTimedOut'
      }
      
      let auctionTimeStart = Date.now();
      
      function trackAuctionInit(args) {
        auctionTimeStart = Date.now();
        const event = createHbEvent(args.auctionId, undefined, SJ_EVENTS.AUCTION_INIT);
        return [event];
      }
      
      function trackBidRequest(args) {
        return args.bids.map(bid =>
          createHbEvent(args.auctionId, args.bidderCode, SJ_EVENTS.BID_REQUEST, bid.adUnitCode));
      }
      
      function trackBidResponse(args) {
        const event = createHbEvent(args.auctionId, args.bidderCode, SJ_EVENTS.BID_RESPONSE,
          args.adUnitCode, args.cpm, args.timeToRespond / 1000, false, args);
        return [event];
      }
      
      function trackBidWon(args) {
        const event = createHbEvent(args.auctionId, args.bidderCode, SJ_EVENTS.BID_WON, args.adUnitCode, args.cpm, undefined, true, args);
        return [event];
      }
      
      function trackAuctionEnd(args) {
        const event = createHbEvent(args.auctionId, undefined, SJ_EVENTS.AUCTION_END, undefined,
          undefined, (Date.now() - auctionTimeStart) / 1000);
        return [event];
      }
      
      function trackBidTimeout(args) {
        return args.map(arg => createHbEvent(arg.auctionId, arg.bidderCode, SJ_EVENTS.TIMEOUT));
      }
      
      function createHbEvent(auctionId, adapter, event, adUnitCode = undefined, value = 0, time = 0, bidWon = undefined, eventArgs) {
        let ev = { event: event };
        if (adapter) {
          ev.adapter = adapter;
          ev.bidderName = adapter;
        }
        if (adUnitCode) {
          ev.adUnitCode = adUnitCode;
        }
        if (value) {
          ev.cpm = value;
        }
        if (time) {
          ev.timeToRespond = time;
        }
        if (typeof bidWon !== 'undefined') {
          ev.bidWon = bidWon;
        } else if (event === 'bidResponse') {
          ev.bidWon = false;
        }
        ev.auctionId = auctionId;
      
        if (eventArgs) {
          if (SJ_EVENTS.BID_RESPONSE == event || SJ_EVENTS.BID_WON == event) {
            ev.width = eventArgs.width;
            ev.height = eventArgs.height;
      
            ev.adId = eventArgs.adId;
          }
        }
        //console.log(JSON.stringify([ev]));
        return ev;
      }

      
    pbjs.onEvent('auctionInit', function(data) {
        trackAuctionInit(data)
    });

    pbjs.onEvent('bidRequested', function(data) {
        console.log(".....yyyyyyyyy.....bidRequested")
        console.log(data.bidderCode)
        //trackBidRequest(data)
    });

    pbjs.onEvent('bidResponse', function(data) {
        trackBidResponse(data)
    });

    pbjs.onEvent('bidWon', function(data) {
        //trackBidWon(data)
        var cpm = Math.round(parseFloat(data.cpm) * 1000) / 1000;
        console.log(".....xxxxxxxxxxxx...........BidWon")
        console.log( data.bidderCode + "PB" + cpm.toString() + " CPM:" + data.adUnitCode + ":" + window.location.href)
    });

    pbjs.onEvent('auctionEnd', function(data) {
        trackAuctionEnd(data)
    });

    pbjs.onEvent('adapterTimedOut', function(data) {
        trackAdapterTimedOut(data)
    });
    
    pbjs.que.push(function() {
          pbjs.addAdUnits(adUnits);
          pbjs.requestBids({
              bidsBackHandler: initAdserver,
              timeout: PREBID_TIMEOUT
          });
      });

      function initAdserver() {
          if (pbjs.initAdserverSet) return;
          pbjs.initAdserverSet = true;
          googletag.cmd.push(function() {
              pbjs.setTargetingForGPTAsync && pbjs.setTargetingForGPTAsync();
              googletag.pubads().refresh();
          });
      }
      
      // in case PBJS doesn't load
      setTimeout(function() {
          initAdserver();
      }, FAILSAFE_TIMEOUT);

      googletag.cmd.push(function() {
          var mappingA = googletag.sizeMapping().
              addSize([768, 0], [728, 90]).
              addSize([0, 0], [300, 250]).
              build();
          var mappingB = googletag.sizeMapping().
              addSize([768, 0], [300, 250]).
              addSize([0, 0], []).
              build();
          var mappingD = googletag.sizeMapping().
              addSize([768, 0], [728, 90], [1,1]).
              addSize([0, 0], [300, 250], [1,1]).
              build();
          var mappingAdhesion = googletag.sizeMapping().
              addSize([970, 0], [
                  [728, 90],
                  [970, 90],
                  [1, 1]
              ]).
              addSize([768, 0], [728, 90], [1, 1]).
              addSize([0, 0], [320, 50]).
              build();
  
          var mm = window.matchMedia("only screen and (max-width: 767px)");
          if (mm.matches) {
              // mobile
              var slot1 = googletag.defineSlot('/21904908158/opj/opj_left1_mob', [300, 250], 'div-opj_left1').defineSizeMapping(mappingA).addService(googletag.pubads());
              var slot2 = googletag.defineSlot('/21904908158/opj/opj_left2_mob', [300, 250], 'div-opj_left2').defineSizeMapping(mappingD).addService(googletag.pubads());
              var slot3 = googletag.defineSlot('/21904908158/opj/opj_left3_mob', [300, 250], 'div-opj_left3').defineSizeMapping(mappingA).addService(googletag.pubads());
              //googletag.defineSlot('/21904908158/opj/opj_left4_mob', [300, 250], 'div-opj_left4').defineSizeMapping(mappingA).addService(googletag.pubads());
              var slot0 = googletag.defineSlot('/21904908158/opj/opj_sticky_mob', [320, 50], 'div-opj_sticky').defineSizeMapping(mappingAdhesion).addService(googletag.pubads());
          } else {
              // desktop and tablet
              var slot1 = googletag.defineSlot('/21904908158/opj/opj_left1', [720, 90], 'div-opj_left1').defineSizeMapping(mappingA).addService(googletag.pubads());
              var slot2 = googletag.defineSlot('/21904908158/opj/opj_left2', [720, 90], 'div-opj_left2').defineSizeMapping(mappingD).addService(googletag.pubads());
              var slot3 = googletag.defineSlot('/21904908158/opj/opj_left3', [720, 90], 'div-opj_left3').defineSizeMapping(mappingA).addService(googletag.pubads());
              googletag.defineSlot('/21904908158/opj/opj_left4', [720, 90], 'div-opj_left4').defineSizeMapping(mappingA).setTargeting('test', 'lazyload').addService(googletag.pubads());
              var slot0 = googletag.defineSlot('/21904908158/opj/opj_sticky', [728, 90], 'div-opj_sticky').defineSizeMapping(mappingAdhesion).addService(googletag.pubads());
          }
          
          var slot4 = googletag.defineSlot('/21904908158/opj/opj_right1', [300, 250], 'div-opj_right1').defineSizeMapping(mappingB).addService(googletag.pubads());
          var slot5 = googletag.defineSlot('/21904908158/opj/opj_right2', [300, 250], 'div-opj_right2').addService(googletag.pubads());
          
          GAM_web_interstitial = googletag.defineOutOfPageSlot('/21904908158/opj/opj_interstitial', googletag.enums.OutOfPageFormat.INTERSTITIAL)
          if(GAM_web_interstitial) {
              GAM_web_interstitial.addService(googletag.pubads())
          }

          googletag.pubads().enableSingleRequest();
          googletag.enableServices();
          setInterval(function() {
            googletag.pubads().refresh([slot0]);
          }, 30000);
      });

  </script>
  <!-- END OPJ -->

    </head>

    <body>
        <h2>Basic Prebid.js Example</h2>
        <h5>Div-1</h5>
        <a href="">Test</a>
        <div id='div-opj_left1'>
            <script type='text/javascript'>
                googletag.cmd.push(function() {
                    googletag.display('div-opj_left1');
                });
            </script>
        </div>
        <!-- EPJ left 1 -->
        <div id='div-opj_left2'>
            <script type='text/javascript'>
                googletag.cmd.push(function() {
                    googletag.display('div-opj_left2');
                });
            </script>
        </div>
        <div id='div-opj_left3'>
            <script type='text/javascript'>
                googletag.cmd.push(function() {
                    googletag.display('div-opj_left3');
                });

            </script>
        </div>
        <div id='div-opj_left4'>
            <script type='text/javascript'>
                googletag.cmd.push(function() {
                    googletag.display('div-opj_left4');
                });

            </script>
        </div>
        <div id='div-opj_right1'>
            <script type='text/javascript'>
                googletag.cmd.push(function() {
                    googletag.display('div-opj_right1');
                });

            </script>
        </div>
        <div id='div-opj_right2'>
            <script type='text/javascript'>
                googletag.cmd.push(function() {
                    googletag.display('div-opj_right2');
                });

            </script>
        </div>
        <div id='div-opj_sticky'>
            <script type='text/javascript'>
                googletag.cmd.push(function() {
                    googletag.display('div-opj_sticky');
                });
            </script>
        </div>

        
<!-- BEGIN OPJ interstitial -->
<script>
    document.onreadystatechange = function () {
        if (document.readyState == "complete") {
            googletag.cmd.push(function () {
                googletag.display(GAM_web_interstitial);
            });
        }
    }
</script>
<!-- END OPJ interstitial -->
    </body>

</html>